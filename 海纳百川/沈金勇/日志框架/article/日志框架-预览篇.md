# 日志框架-预览篇

## 一、学习目录

- 日志框架-预览篇
- 日志框架-JUL篇
- 日志框架-Log4j篇
- 日志框架-JUL篇
- 日志框架-Slf4j篇
- 日志框架-LogBack篇
- 日志框架-Log4j2篇
- 日志框架-最佳实践

## 二、日志的概念

### 2.1日志文件

**日志文件是用于记录系统操作事件的文件集合**，可分为事件日志和消息日志。日志文件在处理历史数据、诊断问题的追踪和理解系统的活动中具有重要作用。

在计算机中，日志文件是记录在操作系统或其他软件运行中发生的事件或在通信软件的不同用户之间的 消息的文件。记录是保持日志的行为。在最简单的情况下，消息被写入单个日志文件。

> 调试日志

软件开发中，我们经常需要去调试程序，做一些信息，状态的输出便于我们查询程序的运行状况。

为了 让我们能够更加灵活和方便的控制这些调试的信息，所以我们需要专业的日志技术。

Java中寻找bug会需要重现。调试也就是debug 可以在程序运行中暂停程序运行，可以查看程序在运行中的情况。

日志主要是为了更方便地去重现问题。

> 系统日志

系统日志是记录系统中硬件、软件和系统问题的信息，同时还可以监视系统中发生的事件。

用户可以通过它来检查错误发生的原因，或者寻找受到攻击时攻击者留下的痕迹。

系统日志包括系统日志、应用程序日志和安全日志。

### 2.2日志的作用

不管是使用何种编程语言，何种框架，日志输出几乎无处不在，也是任何商业软件中必不可少的一部分。

**日志的作用就是在测试环境和生产环境没有Debug调试工具时为开发人员和测试人员定位问题的手段。**

总结起来，日志的用途大致可以归纳成以下三种：

- **问题追踪**：通过日志不仅仅包括我们程序的一些bug，也可以在安装配置时，通过日志可以发现问题。
- **状态监控**：通过实时分析日志，可以监控系统的运行状态，做到早发现问题、早处理问题。
- **安全审计**：审计主要体现在安全上，通过对日志进行分析，可以发现是否存在非授权的操作。

> 系统日志的加载

系统日志策略可以在故障刚刚发生时就向你发送警告信息，系统日志帮助你在最短的时间内发现问题。 

系统日志是一种非常关键的组件，因为系统日志可以让你充分了解自己的环境。

这种系统日志信息对于决定故障的根本原因或者缩小系统攻击范围来说是非常关键的，因为系统日志可以让你了解故障或者袭击发生之前的所有事件。为虚拟化环境制定一套良好的系统日志策略也是至关重要的，因为系统日志需要和许多不同的外部组件进行关联。

良好的系统日志可以防止你从错误的角度分析问题，避免浪费宝贵 的排错时间。

另外一种原因是借助于系统日志，管理员很有可能会发现一些之前从未意识到的问题，在 几乎所有刚刚部署系统日志的环境当中。

## 三、日志框架

### 3.1为什么要用日志框架

因为软件系统发展到今天已经很复杂了，特别是服务器端软件，涉及到的知识，内容和问题太多。

在某些方面使用别人成熟的框架，就相当于让别人帮你完成一些基础工作，你只需要集中精力完成系统的业 务逻辑设计。

而且框架一般是成熟，稳健的，他可以处理系统很多细节问题，比如，事务处理，安全 性，数据流控制等问题。

还有框架一般都经过很多人使用，所以结构很好，所以扩展性也很好，而且它 是不断升级的，你可以直接享受别人升级代码带来的好处。

### 3.2现有日志框架

**日志框架分为日志门面和日志实现两种类型。**

日志门面：

- JCL（Jakarta Commons Logging）
- Slf4j（Simple Logging Facade for Java）

日志实现：

- JUL（Java Util Logging）
- logback
- log4j
- log4j2

**日志框架按照出来的时间顺序排序**

- Log4j(reload4j) 

- JUL

- JCL
- SLF4J
- Logback
- Log4j2