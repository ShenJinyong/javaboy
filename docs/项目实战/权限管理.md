# 权限管理

## RBAC模型

主流的权限管理系统都是`RBAC`模型（`Role-Based Access Control` 基于角色的访问控制）的变形和运用，只是根据不同的业务和设计方案，呈现不同的显示效果。

>`RBAC0`模型

最简单的用户、角色、权限模型。这里面又包含了2种：

1. 用户和角色是多对一关系，即：一个用户只充当一种角色，一种角色可以有多个用户担当。
2. 用户和角色是多对多关系，即：一个用户可同时充当多种角色，一种角色可以有多个用户担当。

>`RBAC1`模型

基于`RBAC0`模型，增加了子角色，引入了继承概念，即子角色可以继承父角色的所有权限。

> `RBAC2`模型

基于`RBAC0`模型，增加了对角色的一些限制：角色互斥、基数约束、先决条件角色等。

>`RBAC3`模型

称为统一模型，它包含了`RBAC1`和`RBAC2`，利用传递性，也把`RBAC0`包括在内，综合了`RBAC0`、`RBAC1`和`RBAC2`的所有特点。

## 权限

权限是资源的集合，这里的资源指的是软件中所有的内容，包括模块、菜单、页面、字段、操作功能（增删改查）等等。

- 菜单权限：用户登录系统之后能看到哪些菜单
- 按钮权限：用户在一个页面上能看到哪些按钮，比如新增、删除等按钮
- 接口权限：用户带着认证信息请求后端接口，是否有权限访问，该接口和前端页面上的按钮一一对应
- 数据权限：用户有权限访问后端某个接口，但是不同的用户相同的接口相同的入参，根据权限大小不同，返回的结果应当不一样——权限大的能够看到的数据更多。

系统权限管理：

- 组权限管理：用户、所属角色、组权限资源和组总权限资源
  - 组权限 = 所属角色的权限合集 + 组自身的权限
- 角色权限管理：用户、包含组和角色权限
  - 角色权限 = 角色自身权限
- 用户权限管理：角色、所属组、用户权限、用户总权限资源和组织管理
  - 用户权限 = 所属角色权限合集 + 所属组权限合集 + 用户自身权限
- 组织管理：对用户所属的组织进行管理，组织以树形结构展示，组织管理具有组织的增、删、改、查功能
- 操作日志管理：用于管理本系统的操作日志

注意：因为组和角色都具有上下级关系，所以下级的组或角色的权限只能在自己的直属上级的权限中选择，下级的组或者角色的总的权限都不能大于直属上级的总权限

## 参考文章

[RBAC模型：基于用户-角色-权限控制的一些思考 | 人人都是产品经理 (woshipm.com)](https://www.woshipm.com/pd/1150093.html)

[若依管理系统RuoYi-Vue（二）：权限系统设计详解 - 狂盗一枝梅 - 博客园 (cnblogs.com)](https://www.cnblogs.com/kuangdaoyizhimei/p/14419180.html)

[用户·角色·权限·表的设计 - oo_o - 博客园 (cnblogs.com)](https://www.cnblogs.com/oo_o/p/8213448.html)
